<div class="min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100">
  <header class="border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <div>
        <h1 class="text-xl font-semibold">Audit Log</h1>
        <p class="text-xs text-slate-500 dark:text-slate-400">Access events and task mutations</p>
      </div>
      <div class="flex items-center gap-3">
        <a routerLink="/tasks" class="text-sm text-slate-600 dark:text-slate-300 hover:text-emerald-500">
          Back to Tasks
        </a>
        <span class="text-xs text-slate-500 dark:text-slate-400">{{ user()?.name }} ({{ user()?.role }})</span>
        <button
          class="text-xs px-3 py-1 rounded-full border border-slate-300 dark:border-slate-700 hover:border-emerald-500"
          (click)="theme.toggle()"
        >
          {{ theme.theme() === 'dark' ? 'Light' : 'Dark' }} mode
        </button>
        <button
          class="text-xs px-3 py-1 rounded-full border border-slate-300 dark:border-slate-700 hover:border-emerald-500"
          (click)="logout()"
        >
          Logout
        </button>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-6 py-6">
    <div class="bg-white/80 dark:bg-slate-900/60 border border-slate-200 dark:border-slate-800 rounded-xl p-4">
      <table class="w-full text-sm">
        <thead class="text-slate-500 dark:text-slate-400">
          <tr class="border-b border-slate-200 dark:border-slate-800">
            <th class="text-left py-2">Timestamp</th>
            <th class="text-left py-2">User</th>
            <th class="text-left py-2">Action</th>
            <th class="text-left py-2">Resource</th>
            <th class="text-left py-2">Details</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let log of logs()"
            class="border-b border-slate-100 dark:border-slate-900"
          >
            <td class="py-2 text-slate-500 dark:text-slate-400">{{ log.createdAt | date:'short' }}</td>
            <td class="py-2">{{ log.user?.name || 'Unknown' }}</td>
            <td class="py-2">{{ log.action }}</td>
            <td class="py-2">{{ log.resourceType }}: {{ log.resourceId }}</td>
            <td class="py-2 text-slate-500 dark:text-slate-400">{{ log.details }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>
